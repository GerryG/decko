!function(n){"use strict";var t,e,r,o,u=function(n){return function(){return n}},i=u(!1),c=u(!0),f=i,s=c,a=function(){return d},d=(o={fold:function(n,t){return n()},is:f,isSome:f,isNone:s,getOr:r=function(n){return n},getOrThunk:e=function(n){return n()},getOrDie:function(n){throw new Error(n||"error: getOrDie called on none.")},getOrNull:function(){return null},getOrUndefined:function(){},or:r,orThunk:e,map:a,ap:a,each:function(){},bind:a,flatten:a,exists:f,forall:s,filter:a,equals:t=function(n){return n.isNone()},equals_:t,toArray:function(){return[]},toString:u("none()")},Object.freeze&&Object.freeze(o),o),l=function(t){return function(n){return function(n){if(null===n)return"null";var t=typeof n;return"object"===t&&Array.prototype.isPrototypeOf(n)?"array":"object"===t&&String.prototype.isPrototypeOf(n)?"string":t}(n)===t}},p=(l("string"),l("function")),y=(Array.prototype.indexOf,Array.prototype.push,Array.prototype.slice,p(Array.from)&&Array.from,function(n){decko.nest.openEditor(n)}),g=function(n){return function(){y(n)}},O=function(n){return n&&"CARD-NEST"===n.nodeName},A=function(n){return 0<tinymce.grep(n,O).length},m=function(n){n.ui.registry.addToggleButton("nest",{text:"{{}}",tooltip:"Insert/edit nest",onAction:g(n)})},h=function(n){n.ui.registry.addMenuItem("nest",{text:"Nest...",context:"insert",shortcut:"Meta+N",onAction:g(n)})},N=function(t){t.ui.registry.addContextMenu("nest",{update:function(n){return A(t.dom.getParents(n,"card-nest"))?"nest unnest opennest":"nest"}})};return tinymce.PluginManager.add("nest",function(n){m(n),h(n),N(n)}),function(){}}(window)();